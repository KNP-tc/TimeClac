<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Employee Time Calc.</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Kanit:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;1,400;1,500&display=swap" rel="stylesheet">
    <style>
      body {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: flex-start;
        height: 100vh;
        padding-top: 100px;
        font-family: 'Kanit', sans-serif;
        font-size: 200%;
        font-weight: medium;
      }

      .form-container {
        width: 60%;
        display: flex;
        flex-direction: column;
        align-items: center;
      }

      form {
        display: flex;
        flex-direction: column;
        gap: 10px;
        font-size: 100%;
        font-weight: normal;
        width: 100%;
      }

      input[type="number"], select {
        font-size: 100%;
        padding: 5px;
      }

      input[type="submit"] {
        padding: 30px;
        font-size: 60%;
        font-weight: bold;
        background-color:rgb(196, 250, 196);
      }

      .error-message {
        width: 100%;
        text-align: center;
        font-family: 'Kanit', sans-serif;
        font-size: 75%;
        font-weight: normal;
        color: red;
      }

      #resultMessage {
        width: 100%;
        text-align: center;
        font-family: 'Kanit', sans-serif;
        font-size: 75%;
      }

    </style>
  </head>
  <body>
    <div class="form-container">
      <form id="calcForm" action="/" method="post" onsubmit="return validateForm()">
        <label for="days">จำนวนวันลาที่เหลือ: &#x1F447;</label>
        <label style="font-family: 'Kanit', sans-serif; font-size: 50%;font-weight: normal;">กรุณาใส่ทศนิยมไม่เกิน 2 ตำแหน่ง</label>
        <input type="number" id="days" name="days" step="0.01" required>
        <label for="workHours">ชั่วโมงทำงานต่อวัน: 	&#x23F3;</label>
        <select id="workHours" name="workHours">
          <option value="8.5">8.5</option>
          <option value="9">9</option>
        </select>
        <br>
        <input type="submit" value="คำนวนวันลาคงเหลือ" >
      </form>
      
      <p class="error-message" id="errorMessage" style="font-family: 'Kanit', sans-serif; font-size: 75%;font-weight: normal;"></p>
      <p id="resultMessage" style="font-family: 'Kanit', sans-serif; font-size: 75%;font-weight:lighter;" "><% if (message) { %><%- message %><% } %></p>
    
    </div>

    <script>
      function validateForm() {
        var x = document.getElementById("days").value;
        var decimal = /^[0-9]+(\.[0-9]{1,2})?$/;
        if (x < 0 || !decimal.test(x)) {
          document.getElementById("days").value = ""; // Clear the input field
          document.getElementById("errorMessage").innerText = "กรุณาใส่ทศนิยมมากที่สุด 2 ตำแหน่ง";
          document.getElementById("resultMessage").innerText = ""; // Clear the result message
          return false;
        }
        return true;
      }
    </script>
  </body>
</html>
